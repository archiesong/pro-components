"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("vue"),m=require("@ant-design-vue/pro-utils"),q=require("@ant-design-vue/pro-provider"),p=require("./components/Text/index.js"),v=require("./components/DatePicker/index.js"),S=require("./components/IndexColumn/index.js"),j=require("./components/Select/index.js"),x=require("./FieldHOC/index.js"),y=()=>({text:{type:[String,Object,Number,Array],default:void 0},valueType:{type:[String,Object],default:void 0},mode:{type:String,default:void 0},onChange:{type:Function,default:void 0},renderFormItem:{type:Function,default:void 0},value:{type:String,default:void 0},readonly:{type:Boolean,default:void 0},fieldProps:{type:Object,default:void 0},placeholder:{type:String,default:void 0},valueEnum:{type:Object,default:void 0}}),O=(e,d,r,u)=>{const{mode:o="read",emptyText:i="-"}=r;if(i!==!1&&o==="read"&&d!=="option"&&d!=="switch"&&typeof e!="boolean"&&typeof e!="number"&&!e){const{fieldProps:f,render:l}=r;return l?l(e,{mode:o,...f},t.createVNode(t.Fragment,null,[i])):t.createVNode(t.Fragment,null,[i])}return delete r.emptyText,u&&u[d],d==="date"?t.createVNode(x.default,{isLight:r.light},{default:()=>[t.createVNode(v.default,t.mergeProps(r,{text:e,format:"YYYY-MM-DD"}),null)]}):d==="indexBorder"?t.createVNode(S.default,{border:!0},{default:()=>[e+1]}):d==="select"||d==="text"&&(r.valueEnum||r.request)?t.createVNode(x.default,{isLight:r.light},{default:()=>[t.createVNode(j.default,t.mergeProps({text:e},r),null)]}):d==="switch"?"1":t.createVNode(p.default,t.mergeProps({text:e},r),null)},s=t.defineComponent({name:"ProField",inheritAttrs:!1,props:y(),setup(e){const d=q.useProConfigContextInject(),r=(...u)=>{var o,i,f;(i=(o=e.fieldProps)==null?void 0:o.onChange)==null||i.call(o,...u),(f=e.onChange)==null||f.call(e,...u)};return()=>{const{text:u,valueType:o="text",mode:i="read",onChange:f,renderFormItem:l,value:g,readonly:F,fieldProps:h,...c}=e,n=(g!==void 0||h)&&{value:g,...m.omitUndefined(h),onChange:r};return O(i==="edit"?(n==null?void 0:n.value)??u??"":u??(n==null?void 0:n.value)??"",o||"text",m.omitUndefined({...c,mode:F?"read":i,renderFormItem:l?(P,N,b)=>{const{placeholder:I,...C}=N,a=l(P,C,b);return t.isVNode(a)?t.cloneVNode(a,{...n,...a.props||{}}):a}:void 0,placeholder:l?void 0:(c==null?void 0:c.placeholder)??(n==null?void 0:n.placeholder),fieldProps:m.pickProProps(m.omitUndefined({...n,placeholder:l?void 0:(c==null?void 0:c.placeholder)??(n==null?void 0:n.placeholder)}))}),d.value.valueTypeMap||{})}}});s.install=e=>(e.component(s.name,s),e);exports.default=s;exports.proFieldProps=y;
