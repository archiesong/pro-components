"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const r=require("vue"),a=require("@ant-design-vue/pro-utils"),b=require("./SearchSelect/index.js"),h=require("@ant-design-vue/pro-provider"),F=n=>{const l=[],o=a.objectToMap(n);return o.forEach((s,d)=>{const e=o.get(d)||o.get(`${d}`);if(e){if(typeof e=="object"&&(e!=null&&e.text)){l.push({text:e==null?void 0:e.text,value:d,label:e==null?void 0:e.text,disabled:e.disabled});return}l.push({text:e,value:d})}}),l},f=()=>({mode:{type:String,default:void 0},text:{type:String,default:void 0},label:{type:[String,Function,Object],default:void 0},valueEnum:{type:Object,default:void 0},fieldProps:{type:Object,default:void 0},light:{type:Boolean,default:void 0},customRender:{type:Function,default:void 0},renderFormItem:{type:Function,default:void 0}}),P=n=>[],y=r.defineComponent({name:"FieldSelect",inheritAttrs:!1,props:f(),setup(n){const l=r.ref(),o=r.ref(""),s=h.useIntl();a.useEffect(()=>{var t;o.value=(t=n.fieldProps)==null?void 0:t.searchValue},[()=>{var t;return(t=n.fieldProps)==null?void 0:t.searchValue}]);const[d,e,S,x]=P();return()=>{const{mode:t,customRender:i,label:p,light:j,valueEnum:m,fieldProps:c,...g}=n;if(t==="read"){const u=r.createVNode(r.Fragment,null,[a.proFieldParsingText(g.text,a.objectToMap(m))]);return i?i(u,{mode:t,...c},u)??null:u}return t==="edit"||t==="update"?r.createVNode(b.default,r.mergeProps({key:"SearchSelect",ref:l,allowClear:!0,placeholder:s.value.getMessage({id:"tableForm.selectPlaceholder",defaultMessage:"请选择"}),label:p},c,{options:e}),null):null}}});exports.default=y;exports.fieldSelectProps=f;exports.proFieldParsingValueEnumToArray=F;
