"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const u=require("vue"),b=require("swr-vue"),y=require("../useState/index.js"),g=require("../useEffect/index.js");let r=0;const m=e=>{const t=u.ref(null),[l]=y.default(()=>e.proFieldKey?e.proFieldKey.toString():(r+=1,r.toString())),c=u.ref(l),i=async()=>{var a,n;(a=t.value)==null||a.abort();const f=new AbortController;return t.value=f,await Promise.race([(n=e.request)==null?void 0:n.call(e,e.params,e),new Promise((w,v)=>{var o;(o=t.value)==null||o.signal.addEventListener("abort",()=>{v(new Error("aborted"))})})])};g.default(()=>()=>{r+=1},[]);const{data:s,error:d}=b.useSWR([c.value,e.params],i,{revalidateOnFocus:!1,revalidateOnReconnect:!1});return[s||d]};exports.default=m;
