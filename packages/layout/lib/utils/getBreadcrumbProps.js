"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const m=require("vue");require("ant-design-vue");const h=require("path-to-regexp");function p(e){if(!e||e==="/")return["/"];const t=e.split("/").filter(r=>r);return["/"].concat(t.map((r,n)=>`/${t.slice(0,n+1).join("/")}`))}const g=({route:e,routes:t})=>{const{breadcrumbName:r,path:n}=e;return t.findIndex(s=>s.path===e.path)===t.length-1?m.createVNode("span",null,[r]):m.h(m.resolveComponent("RouterLink"),{to:n},()=>r)},B=({meta:e},t)=>{const{formatMessage:r,menu:n}=t;return e!=null&&e.locale&&r&&(n==null?void 0:n.locale)!==!1?r({id:e.locale,defaultMessage:e.title}):e==null?void 0:e.title},l=(e,t)=>{let r=e.get(t);if(!r){const o=(Array.from(e.keys())||[]).find(s=>{try{return s!=null&&s.startsWith("http")?!1:h.match(s.replace("?",""))(t)}catch(c){return console.log("path",s,c),!1}});o&&(r=e.get(o))}return r||{path:""}},b=e=>{const{location:t,breadcrumbMap:r}=e;return{location:t,breadcrumbMap:r}},P=(e,t,r)=>{const n=p(e==null?void 0:e.pathname);let o="";return window.location.pathname.endsWith((e==null?void 0:e.pathname)||"")&&(o=window.location.pathname.replace((e==null?void 0:e.pathname)||"","")),n.map(c=>{const a=l(t,c),u=B(a,r),{meta:d}=a;return u&&!(d!=null&&d.hideInBreadcrumb)?{path:o+c,breadcrumbName:u}:{path:"",breadcrumbName:u}}).filter(c=>c&&c.path)},f=e=>{const{location:t,breadcrumbMap:r}=b(e);return t&&t.pathname&&r?P(t,r,e):[]},y=(e,t)=>{const{breadcrumbRender:r,itemRender:n}=e,{minLength:o=2}=t.breadcrumbProps||{},s=f(e),c=({route:u,...d})=>{const i=n||g;return i==null?void 0:i({route:u,...d})};let a=s;return r&&(a=r(a||[])||void 0),(a&&a.length<o||r===!1)&&(a=void 0),{routes:a,itemRender:c}};exports.genBreadcrumbProps=f;exports.getBreadcrumb=l;exports.getBreadcrumbFromProps=b;exports.getBreadcrumbProps=y;exports.urlToList=p;
