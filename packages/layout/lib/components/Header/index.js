"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("vue"),P=require("ant-design-vue"),R=require("../GlobalHeader/index.js"),q=require("./style/header.js"),M=require("./style/stylish.js"),V=require("@ant-design-vue/pro-provider"),$=require("../SiderMenu/SiderMenu.js"),y=require("@ant-design-vue/pro-utils"),H=require("../../utils/index.js"),N=require("../TopNavHeader/index.js"),w=require("../GlobalHeader/globalHeaderProps.js");function D(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!t.isVNode(e)}const{Header:f}=P.Layout,m=()=>({...w.globalHeaderProps(),isMobile:Boolean,collapsedWidth:Number,headerRender:{type:[Function,Boolean],default:void 0},siderWidth:Number,hasSiderMenu:{type:Boolean,default:void 0},headerTitleRender:{type:[Function,Boolean,Object],default:void 0}}),j=t.defineComponent({name:"HeaderView",inheritAttrs:!1,props:{...m(),...$.privateSiderMenuProps()},setup(e,{attrs:d}){const u=V.useProConfigContextInject(),a=t.computed(()=>`${e.prefixCls}-layout-header`),o=t.computed(()=>e.fixedHeader||e.layout==="mix"),{wrapSSR:v,hashId:b}=q.useStyle(a),r=t.computed(()=>e.collapsedWidth||64),g=t.computed(()=>e.layout==="top"),C=M.useStylish(t.computed(()=>`${a.value}.${a.value}-stylish`),{proLayoutCollapsedWidth:r,stylish:t.computed(()=>e.stylish)}),S=y.useCallback(()=>{const n=H.clearMenuItem(e.menuData||[]);let l=t.createVNode(R.default,t.mergeProps(e,{menuData:n}),{default:()=>[e.headerContentRender&&e.headerContentRender(e,null)]});return g.value&&!e.isMobile&&(l=t.createVNode(N.default,t.mergeProps(e,{mode:"horizontal",onCollapse:e.onCollapse,menuData:n}),null)),e.headerRender&&typeof e.headerRender=="function"?e.headerRender(e,l):l},[()=>e.headerContentRender,()=>e.headerRender,()=>e.navTheme,()=>e.isMobile,()=>e.menuData,()=>e.layout,()=>e.onCollapse]);return()=>{var i,s,c,h;let n;const{layout:l,headerRender:x}=e;return l==="side"&&x===!1?null:C.wrapSSR(v(t.createVNode(t.Fragment,null,[o.value&&t.createVNode(f,{style:{...d.style,height:`${((s=(i=u.value.token.layout)==null?void 0:i.header)==null?void 0:s.heightLayoutHeader)||56}px`,lineHeight:`${((h=(c=u.value.token.layout)==null?void 0:c.header)==null?void 0:h.heightLayoutHeader)||56}px`,backgroundColor:"transparent"}},null),t.createVNode(f,{class:y.classNames(d.class,b.value,a.value,{[`${a.value}-fixed`]:o.value,[`${a.value}-stylish`]:!!e.stylish}),style:{...d.style,width:!o.value||l!=="side"||e.isMobile?"100%":`calc(100% - ${e.collapsed?r.value:e.siderWidth}px)`}},D(n=S.value())?n:{default:()=>[n]})])))}}});exports.default=j;exports.headerViewProps=m;
